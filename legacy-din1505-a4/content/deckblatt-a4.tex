% -----------------------------------------------------------------------------
% Deckblatt / Title page (KIT Bau - dissertation template) - A4 VERSION
% Precisely matched to KIT Bau example layout (Mareike Kohm M.Sc.)
%
% FIXED-HEIGHT TITLE BLOCK:
% This version uses a fixed-height vbox for the title so that 1-line and 3-line
% titles produce identical vertical alignment for all content below.
%
% Required macros (define in main file):
%   \headtitle       - Thesis title (allows manual line breaks with \\)
%   \doktorgrad      - Exact string: DOKTOR-INGENIEURS or DOKTOR-INGENIEURIN
%   \facultyname     - Faculty name ONLY (e.g., "Bauingenieur-, Geo- und Umweltwissenschaften")
%   \institutname    - Institute name WITHOUT "des" (e.g., "Karlsruher Instituts für Technologie (KIT)")
%   \submissiontype  - "genehmigte" (approved) or "eingereichte" (submitted)
%   \authorname      - Full author name including academic suffix (e.g., "Mareike Kohm M.Sc.")
%   \birthline       - Birth info: "geb. in [Stadt]" or "aus [Geburtsort, Land]"
%   \defensedate     - Defense date (optional, hide if empty)
%   \referee         - Main referee (optional, hide if empty)
%   \coreferee       - Co-referee (optional, hide if empty)
%
% Layout uses absolute font sizes and fixed-width parboxes for precise visual matching
% CRITICAL: Uses \begingroup to force single spacing and zero parskip (overrides global settings)
% -----------------------------------------------------------------------------

\begin{titlepage}
\thispagestyle{empty}
\begingroup
\centering

\setlength{\parindent}{0pt}
\setlength{\parskip}{0pt}
\ifdefined\singlespacing\singlespacing\fi

% fallbacks (so template compiles even if main file forgot macros)
\providecommand{\doktorgrad}{DOKTOR-INGENIEURIN}
\providecommand{\facultyname}{Bauingenieur-, Geo- und Umweltwissenschaften}
\providecommand{\institutname}{Karlsruher Instituts für Technologie (KIT)}
\providecommand{\submissiontype}{genehmigte}
\providecommand{\authorname}{Author Name}
\providecommand{\birthline}{geb. in Karlsruhe}
\providecommand{\defensedate}{}
\providecommand{\referee}{}
\providecommand{\coreferee}{}

\newlength{\TitleBlockHeight}
\setlength{\TitleBlockHeight}{2.6cm} % TUNE: 2.4–2.9cm until it matches example

\vspace*{2.1cm} % TUNE: 1.9–2.4cm

% fixed-height title block (key change!)
\vbox to \TitleBlockHeight{%
  \vfil
  {\fontsize{16}{19}\selectfont\bfseries
   \parbox{0.74\textwidth}{\centering \headtitle\par}\par}%
  \vfil
}

\vspace{1.6cm} % TUNE: 1.4–1.8cm

{\fontsize{9.5}{11.5}\selectfont Zur Erlangung des akademischen Grades einer\par}
\vspace{0.6cm}
{\fontsize{12}{14}\selectfont\bfseries \doktorgrad\par}

\vspace{1.0cm}

{\fontsize{9.5}{11.5}\selectfont
\parbox{0.78\textwidth}{\centering
von der Fakultät für\par
\facultyname\par
des \institutname\par
}\par}

\vspace{1.0cm}

{\fontsize{9.5}{11.5}\selectfont \submissiontype\par}
\vspace{0.55cm}
{\fontsize{12}{14}\selectfont\bfseries DISSERTATION\par}

\vspace{0.8cm}

{\fontsize{9.5}{11.5}\selectfont von\par}
\vspace{0.4cm}
{\fontsize{12}{14}\selectfont \authorname\par}
\vspace{0.2cm}
{\fontsize{9.5}{11.5}\selectfont \birthline\par}

\vfill

{\fontsize{9.5}{11.5}\selectfont
\noindent
\begin{tabular*}{\textwidth}{@{}l@{\extracolsep{\fill}}r@{}}
\ifx\defensedate\empty\else Tag der mündlichen Prüfung: & \defensedate\\\fi
\ifx\referee\empty\else Hauptreferent: & \referee\\\fi
\ifx\coreferee\empty\else Korreferent: & \coreferee\\\fi
\end{tabular*}\par}

\vspace*{0.0cm} % IMPORTANT: keep near zero so bottom block sits low
\endgroup
\end{titlepage}
