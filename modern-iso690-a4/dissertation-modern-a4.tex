%%% Dissertation Template - Modern ISO 690 Version (A4)
%%% Created: 2025-12-15
%%% Optimized for LuaLaTeX/XeLaTeX with A4 paper format

% Document class with KOMA-Script
\documentclass[numbers=noenddot,a4paper,10pt,english,cleardoublepage=empty]{scrbook}

% PDF settings (PDF 1.7 compatibility, compression, suppress warnings)
\directlua{
  pdf.setminorversion(7)
  pdf.setobjcompresslevel(3)
  pdf.suppresswarningpagegroup = 1
}

% Subsubsection numbering depth
\setcounter{secnumdepth}{\subsubsectionnumdepth}

% Essential packages
\usepackage{auxhook}
\usepackage{booktabs}
\usepackage{wrapfig}
\usepackage{bm}

% Custom hyphenation rules
\hyphenation{guide-line non-con-ser-va-tive con-ser-va-tive tem-po-ral}
\hyphenation{ve-loc-i-ty ve-loc-i-ties en-er-gy-ab-sorb-ing ab-sorb-ing}
\hyphenation{de-pen-den-cy}

% Document metadata
\newcommand{\pdftitle}{Optimization Methods for Complex Systems}
\newcommand{\autor}{Author Name}
\newcommand{\headtitle}{Optimization Methods for Complex Systems}
\newcommand{\coo}{CO\textsubscript{2}\ }

% Deckblatt (title page) macros - precisely matched to KIT Bau example layout
% NOTE: Replace these placeholder values with your actual information
\newcommand{\gradintro}{Zur Erlangung des akademischen Grades}  % Intro text before degree
\newcommand{\doktorgrad}{DOKTOR-INGENIEURS}               % or DOKTOR-INGENIEURIN
\newcommand{\facultyname}{Bauingenieur-, Geo- und Umweltwissenschaften}
\newcommand{\institutname}{Karlsruher Instituts für Technologie (KIT)}  % Note: genitive case "Instituts"
\newcommand{\submissiontype}{genehmigte}                  % or "eingereichte" for submission
\newcommand{\authorname}{[Vorname Nachname]}              % Full author name (placeholder)
\newcommand{\authordegree}{M.Sc.}                         % Academic degree suffix (e.g., M.Sc., Dipl.-Ing.)
\newcommand{\birthline}{aus [Geburtsort, Land]}           % Birth info: "geb. in [Stadt]" or "aus [Geburtsort, Land]"

% Optional examination details (leave empty to hide from title page)
\newcommand{\defensedate}{}                               % Defense date (e.g., "15. März 2025")
\newcommand{\referee}{}                                   % Main referee (e.g., "Prof. Dr.-Ing. [Erstgutachter]")
\newcommand{\coreferee}{}                                 % Co-referee (e.g., "Prof. Dr.-Ing. [Zweitgutachter]")

% Example with filled values (uncomment and customize as needed):
% \renewcommand{\authorname}{Max Mustermann}
% \renewcommand{\authordegree}{M.Sc.}
% \renewcommand{\birthline}{geb. in Karlsruhe, Deutschland}
% \renewcommand{\defensedate}{15. März 2025}
% \renewcommand{\referee}{Prof. Dr.-Ing. [Erstgutachter]}
% \renewcommand{\coreferee}{Prof. Dr.-Ing. [Zweitgutachter]}

% Multi-line title example (use manual line breaks with \\):
% \renewcommand{\headtitle}{%
%   Ein sehr langer Titel über mehrere Zeilen\\
%   zur Demonstration der festen Titelhöhe\\
%   in drei Zeilen%
% }

% Legacy macros (kept for backwards compatibility with older content files)
\newcommand{\birthplace}{Karlsruhe}
\newcommand{\faculty}{\facultyname}
\newcommand{\institute}{\institutname}

% Load modern document options and packages (A4)
\input{dokOptions-modern-a4}

% ==================== MAIN DOCUMENT ====================
\begin{document}

% Unnumbered front matter (title pages)
\hypersetup{pageanchor=false}
\pagenumbering{gobble}
\pagestyle{scrheadings}

% Cover page (A4 version)
\cleardoublepage
\include{content/deckblatt-a4}
\cleardoublepage

% Begin Roman numeral pagination
\pagenumbering{roman}
\setcounter{page}{1}
\hypersetup{pageanchor=true}

% German abstract
\markboth{Kurzfassung}{Kurzfassung}
\selectlanguage{german}
\include{content/abstract}

% English abstract
\markboth{Abstract}{Abstract}
\selectlanguage{english}
\include{content/abstractEN}

% Acknowledgments
\markboth{Danksagung}{Danksagung}
\include{content/acknowledgment}

% Table of contents
\tableofcontents

% Nomenclature
\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{\nomname}
\markboth{\nomname}{\nomname}
\input{content/symbols}
\printnomenclature

% ==================== MAIN CONTENT ====================
\mainmatter
\renewcommand{\arraystretch}{1.4}
\pagenumbering{arabic}

% Chapters in correct order
\include{content/1introduction}
\include{content/2stateoftheart}
\include{content/3descriptionproblem}
\include{content/4modeling}
\include{content/5simulations}
\include{content/6appliedexamples}

% Adjust chapter marks for summary/outlook
\renewcommand{\chaptermark}[1]{\markboth{\thechapter\ \  #1}{\thechapter\ \  #1}}
\include{content/7summary}
\include{content/8ausblick}

% ==================== APPENDIX ====================
\appendix
\include{content/appendix}

% Lists
\addcontentsline{toc}{chapter}{List of Figures}
\listoffigures

\addcontentsline{toc}{chapter}{List of Tables}
\listoftables

\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{List of Algorithms}
\listofalgorithms

% Bibliography (biblatex format)
\setlength{\parskip}{0.4\baselineskip plus 0.2\baselineskip minus 0.2\baselineskip}
\addcontentsline{toc}{chapter}{Bibliography}
\printbibliography[heading=bibliography,title={Bibliography}]

% Curriculum Vitae (commented out for anonymized version)
%\addcontentsline{toc}{chapter}{Lebenslauf}
%\include{content/lebenslauf}

\end{document}
